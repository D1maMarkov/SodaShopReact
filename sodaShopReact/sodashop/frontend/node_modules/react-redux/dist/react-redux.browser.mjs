import*as Ue from"react";import{useSyncExternalStoreWithSelector as Et}from"use-sync-external-store/with-selector.js";import{unstable_batchedUpdates as se}from"react-dom";function Ye(e){e()}var me=Ye,ye=e=>me=e,he=()=>me;import*as k from"react";import*as W from"react";var pe=Symbol.for("react-redux-context"),ae=typeof globalThis<"u"?globalThis:{};function ze(){if(!W.createContext)return{};let e=ae[pe]??(ae[pe]=new Map),t=e.get(W.createContext);return t||(t=W.createContext(null),e.set(W.createContext,t)),t}var S=ze();var B=()=>{throw new Error("uSES not initialized!")};import*as we from"react";function j(e=S){return function(){return we.useContext(e)}}var H=j();var xe=B,Ce=e=>{xe=e},Be=(e,t)=>e===t;function Oe(e=S){let t=e===S?H:j(e);return function(n,s={}){let{equalityFn:r=Be,devModeChecks:a={}}=typeof s=="function"?{equalityFn:s}:s,{store:u,subscription:i,getServerState:p,stabilityCheck:P,identityFunctionCheck:l}=t(),f=k.useRef(!0),x=k.useCallback({[n.name](b){let d=n(b);if(!1){if((T==="always"||T==="once"&&f.current)&&!r(d,y))try{}catch(L){}if((w==="always"||w==="once"&&f.current)&&d===b)try{}catch(C){}}return d}}[n.name],[n,P,a.stabilityCheck]),m=xe(i.addNestedSub,u.getState,p||u.getState,x,r);return k.useDebugValue(m),m}}var He=Oe();import*as c from"react";var Ke=Symbol.for("react.element"),Xe=Symbol.for("react.portal"),Ge=Symbol.for("react.fragment"),Je=Symbol.for("react.strict_mode"),Ze=Symbol.for("react.profiler"),Qe=Symbol.for("react.provider"),et=Symbol.for("react.context"),tt=Symbol.for("react.server_context"),Re=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),Lt=Symbol.for("react.offscreen"),Yt=Symbol.for("react.client.reference"),be=Re,De=ce;function st(e){if(typeof e=="object"&&e!==null){let t=e.$$typeof;switch(t){case Ke:{let o=e.type;switch(o){case Ge:case Ze:case Je:case ot:case rt:return o;default:{let n=o&&o.$$typeof;switch(n){case tt:case et:case Re:case nt:case ce:case Qe:return n;default:return t}}}}case Xe:return t}}}function Me(e){return st(e)===ce}function pt(e,t,o,n,{areStatesEqual:s,areOwnPropsEqual:r,areStatePropsEqual:a}){let u=!1,i,p,P,l,f;function x(T,y){return i=T,p=y,P=e(i,p),l=t(n,p),f=o(P,l,p),u=!0,f}function m(){return P=e(i,p),t.dependsOnOwnProps&&(l=t(n,p)),f=o(P,l,p),f}function b(){return e.dependsOnOwnProps&&(P=e(i,p)),t.dependsOnOwnProps&&(l=t(n,p)),f=o(P,l,p),f}function d(){let T=e(i,p),y=!a(T,P);return P=T,y&&(f=o(P,l,p)),f}function w(T,y){let C=!r(y,p),L=!s(T,i,y,p);return i=T,p=y,C&&L?m():C?b():L?d():f}return function(y,C){return u?w(y,C):x(y,C)}}function ie(e,{initMapStateToProps:t,initMapDispatchToProps:o,initMergeProps:n,...s}){let r=t(e,s),a=o(e,s),u=n(e,s);return pt(r,a,u,e,s)}function ue(e,t){let o={};for(let n in e){let s=e[n];typeof s=="function"&&(o[n]=(...r)=>t(s(...r)))}return o}function q(e){return function(o){let n=e(o);function s(){return n}return s.dependsOnOwnProps=!1,s}}function ge(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function K(e,t){return function(n,{displayName:s}){let r=function(u,i){return r.dependsOnOwnProps?r.mapToProps(u,i):r.mapToProps(u,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(u,i){r.mapToProps=e,r.dependsOnOwnProps=ge(e);let p=r(u,i);return typeof p=="function"&&(r.mapToProps=p,r.dependsOnOwnProps=ge(p),p=r(u,i)),p},r}}function F(e,t){return(o,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function Ee(e){return e&&typeof e=="object"?q(t=>ue(e,t)):e?typeof e=="function"?K(e,"mapDispatchToProps"):F(e,"mapDispatchToProps"):q(t=>({dispatch:t}))}function ke(e){return e?typeof e=="function"?K(e,"mapStateToProps"):F(e,"mapStateToProps"):q(()=>({}))}function at(e,t,o){return{...o,...e,...t}}function ct(e){return function(o,{displayName:n,areMergedPropsEqual:s}){let r=!1,a;return function(i,p,P){let l=e(i,p,P);return r?s(l,a)||(a=l):(r=!0,a=l),a}}}function Fe(e){return e?typeof e=="function"?ct(e):F(e,"mergeProps"):()=>at}function it(){let e=he(),t=null,o=null;return{clear(){t=null,o=null},notify(){e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],s=t;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0,r=o={callback:n,next:null,prev:o};return r.prev?r.prev.next=r:t=r,function(){!s||t===null||(s=!1,r.next?r.next.prev=r.prev:o=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var Ae={notify(){},get:()=>[]};function X(e,t){let o,n=Ae,s=0,r=!1;function a(b){P();let d=n.subscribe(b),w=!1;return()=>{w||(w=!0,d(),l())}}function u(){n.notify()}function i(){m.onStateChange&&m.onStateChange()}function p(){return r}function P(){s++,o||(o=t?t.addNestedSub(i):e.subscribe(i),n=it())}function l(){s--,o&&s===0&&(o(),o=void 0,n.clear(),n=Ae)}function f(){r||(r=!0,P())}function x(){r&&(r=!1,l())}let m={addNestedSub:a,notifyNestedSubs:u,handleChangeWrapper:i,isSubscribed:p,trySubscribe:f,tryUnsubscribe:x,getListeners:()=>n};return m}import*as G from"react";var ut=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A=ut?G.useLayoutEffect:G.useEffect;function ve(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function v(e,t){if(ve(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;let o=Object.keys(e),n=Object.keys(t);if(o.length!==n.length)return!1;for(let s=0;s<o.length;s++)if(!Object.prototype.hasOwnProperty.call(t,o[s])||!ve(e[o[s]],t[o[s]]))return!1;return!0}var Pt={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},lt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},dt={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ve={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ft={[be]:dt,[De]:Ve};function Ne(e){return Me(e)?Ve:ft[e.$$typeof]||Pt}var Tt=Object.defineProperty,St=Object.getOwnPropertyNames,_e=Object.getOwnPropertySymbols,mt=Object.getOwnPropertyDescriptor,yt=Object.getPrototypeOf,Ie=Object.prototype;function U(e,t){if(typeof t!="string"){if(Ie){let r=yt(t);r&&r!==Ie&&U(e,r)}let o=St(t);_e&&(o=o.concat(_e(t)));let n=Ne(e),s=Ne(t);for(let r=0;r<o.length;++r){let a=o[r];if(!lt[a]&&!(s&&s[a])&&!(n&&n[a])){let u=mt(t,a);try{Tt(e,a,u)}catch{}}}}return e}var We=B,je=e=>{We=e};var ht=[null,null];function wt(e,t,o){A(()=>e(...t),o)}function xt(e,t,o,n,s,r){e.current=n,o.current=!1,s.current&&(s.current=null,r())}function Ct(e,t,o,n,s,r,a,u,i,p,P){if(!e)return()=>{};let l=!1,f=null,x=()=>{if(l||!u.current)return;let b=t.getState(),d,w;try{d=n(b,s.current)}catch(T){w=T,f=T}w||(f=null),d===r.current?a.current||p():(r.current=d,i.current=d,a.current=!0,P())};return o.onStateChange=x,o.trySubscribe(),x(),()=>{if(l=!0,o.tryUnsubscribe(),o.onStateChange=null,f)throw f}}function Ot(e,t){return e===t}function Rt(e,t,o,{pure:n,areStatesEqual:s=Ot,areOwnPropsEqual:r=v,areStatePropsEqual:a=v,areMergedPropsEqual:u=v,forwardRef:i=!1,context:p=S}={}){let P=p,l=ke(e),f=Ee(t),x=Fe(o),m=!!e;return d=>{let w=d.displayName||d.name||"Component",T=`Connect(${w})`,y={shouldHandleStateChanges:m,displayName:T,wrappedComponentName:w,WrappedComponent:d,initMapStateToProps:l,initMapDispatchToProps:f,initMergeProps:x,areStatesEqual:s,areStatePropsEqual:a,areOwnPropsEqual:r,areMergedPropsEqual:u};function C(O){let[g,Z,D]=c.useMemo(()=>{let{reactReduxForwardedRef:h,...E}=O;return[O.context,h,E]},[O]),N=c.useMemo(()=>{let h=P;return g?.Consumer,h},[g,P]),R=c.useContext(N),_=!!O.store&&!!O.store.getState&&!!O.store.dispatch,$e=!!R&&!!R.store,M=_?O.store:R.store,le=$e?R.getServerState:M.getState,Q=c.useMemo(()=>ie(M.dispatch,y),[M]),[I,de]=c.useMemo(()=>{if(!m)return ht;let h=X(M,_?void 0:R.subscription),E=h.notifyNestedSubs.bind(h);return[h,E]},[M,_,R]),fe=c.useMemo(()=>_?R:{...R,subscription:I},[_,R,I]),ee=c.useRef(),te=c.useRef(D),V=c.useRef(),Te=c.useRef(!1),kt=c.useRef(!1),oe=c.useRef(!1),re=c.useRef();A(()=>(oe.current=!0,()=>{oe.current=!1}),[]);let Se=c.useMemo(()=>()=>V.current&&D===te.current?V.current:Q(M.getState(),D),[M,D]),Le=c.useMemo(()=>E=>I?Ct(m,M,I,Q,te,ee,Te,oe,V,de,E):()=>{},[I]);wt(xt,[te,ee,Te,D,V,de]);let z;try{z=We(Le,Se,le?()=>Q(le(),D):Se)}catch(h){throw re.current&&(h.message+=`
The error may be correlated with this previous error:
${re.current.stack}

`),h}A(()=>{re.current=void 0,V.current=void 0,ee.current=z});let ne=c.useMemo(()=>c.createElement(d,{...z,ref:Z}),[Z,d,z]);return c.useMemo(()=>m?c.createElement(N.Provider,{value:fe},ne):ne,[N,ne,fe])}let Y=c.memo(C);if(Y.WrappedComponent=d,Y.displayName=C.displayName=T,i){let g=c.forwardRef(function(D,N){return c.createElement(Y,{...D,reactReduxForwardedRef:N})});return g.displayName=T,g.WrappedComponent=d,U(g,d)}return U(Y,d)}}var bt=Rt;import*as $ from"react";function Dt({store:e,context:t,children:o,serverState:n,stabilityCheck:s="once",identityFunctionCheck:r="once"}){let a=$.useMemo(()=>{let p=X(e);return{store:e,subscription:p,getServerState:n?()=>n:void 0,stabilityCheck:s,identityFunctionCheck:r}},[e,n,s,r]),u=$.useMemo(()=>e.getState(),[e]);return A(()=>{let{subscription:p}=a;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),u!==e.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[a,u]),$.createElement((t||S).Provider,{value:a},o)}var Mt=Dt;function J(e=S){let t=e===S?H:j(e);return function(){let{store:n}=t();return n}}var Pe=J();function qe(e=S){let t=e===S?Pe:J(e);return function(){return t().dispatch}}var gt=qe();Ce(Et);je(Ue.useSyncExternalStore);ye(se);var Ho=se;export{Mt as Provider,S as ReactReduxContext,Ho as batch,bt as connect,qe as createDispatchHook,Oe as createSelectorHook,J as createStoreHook,v as shallowEqual,gt as useDispatch,He as useSelector,Pe as useStore};
//# sourceMappingURL=react-redux.browser.mjs.map